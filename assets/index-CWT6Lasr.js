(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();class E{constructor(){this.currentMode="create",this.currentElementType="object",this.elements=[],this.connections=[],this.selectedElement=null,this.dragging=!1,this.dragOffset={x:0,y:0},this.connectionStart=null,this.zoom=1,this.pan={x:0,y:0},this.contextMenuTarget=null,this.editingElement=null}setMode(t){this.currentMode=t}setElementType(t){this.currentElementType=t}addElement(t){this.elements.push(t)}removeElement(t){const e=this.elements.findIndex(n=>n.id===t);e!==-1&&this.elements.splice(e,1)}addConnection(t){this.connections.push(t)}removeConnection(t){const e=this.connections.findIndex(n=>n.id===t);e!==-1&&this.connections.splice(e,1)}getElementById(t){return this.elements.find(e=>e.id===t)}getElementAt(t,e){return this.elements.find(n=>t>=n.cornerX&&t<=n.cornerX+n.width&&e>=n.cornerY&&e<=n.cornerY+n.height)}selectElement(t){var e;(e=this.selectedElement)!=null&&e.domElement&&this.selectedElement.domElement.classList.remove("selected"),this.selectedElement=t,t!=null&&t.domElement&&t.domElement.classList.add("selected")}clear(){this.elements.forEach(t=>{t.domElement&&t.domElement.remove()}),this.elements=[],this.connections=[],this.selectedElement=null,this.connectionStart=null,this.contextMenuTarget=null,this.editingElement=null}}class y{constructor(t){this.canvas=t}getCanvasRect(){return this.canvas.getBoundingClientRect()}createElementDOM(t){const e=document.createElement("div");e.className=`element ${t.type}`,t.parent&&e.classList.add("has-parent"),e.style.left=t.cornerX+"px",e.style.top=t.cornerY+"px",e.style.width=t.width+"px",e.style.height=t.height+"px",e.textContent=t.text,e.dataset.id=t.id.toString(),e.addEventListener("dblclick",n=>{n.stopPropagation(),this.editElementText(t)}),this.canvas.appendChild(e),t.domElement=e}updateElementPosition(t){t.domElement&&(t.domElement.style.left=t.cornerX+"px",t.domElement.style.top=t.cornerY+"px"),t.children.forEach(e=>this.updateElementPosition(e))}updateElementTextContent(t){t.domElement&&(t.domElement.textContent=t.text)}editElementText(t){const e=prompt("Edit element text:",t.text);e!==null&&(t.text=e,this.updateElementTextContent(t))}createConnectionDOM(t){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.classList.add("connection-svg"),e.style.position="absolute",e.style.pointerEvents="none",e.style.zIndex="1",e.style.overflow="visible";const n=t.from.centerX,i=t.from.centerY,s=t.to.centerX,o=t.to.centerY,c=Math.min(n,s)-20,l=Math.min(i,o)-20,d=Math.max(n,s)+20,h=Math.max(i,o)+20;e.style.left=c+"px",e.style.top=l+"px",e.style.width=d-c+"px",e.style.height=h-l+"px";const r=document.createElementNS("http://www.w3.org/2000/svg","line");r.classList.add("connection-line"),r.setAttribute("x1",(n-c).toString()),r.setAttribute("y1",(i-l).toString()),r.setAttribute("x2",(s-c).toString()),r.setAttribute("y2",(o-l).toString()),r.setAttribute("stroke","rgba(255, 255, 255, 0.8)"),r.setAttribute("stroke-width","2"),e.appendChild(r),this.canvas.appendChild(e)}updateConnections(t){document.querySelectorAll(".connection-svg").forEach(e=>e.remove()),t.forEach(e=>{this.createConnectionDOM(e)})}showContextMenu(t,e){const n=document.getElementById("contextMenu");n&&(n.style.left=t+"px",n.style.top=e+"px",n.classList.remove("hidden"))}hideContextMenu(){const t=document.getElementById("contextMenu");t&&t.classList.add("hidden")}showElementTypeSelection(){const t=document.getElementById("elementTypeSelection");t&&t.classList.remove("hidden")}hideElementTypeSelection(){const t=document.getElementById("elementTypeSelection");t&&t.classList.add("hidden")}updateCanvasCursor(t){this.canvas.className=`canvas ${t}-mode`}updateStatus(t){const e=document.getElementById("status");e&&(e.textContent=t)}setCanvasTransform(t,e,n){this.canvas.style.transform=`scale(${t}) translate(${e}px, ${n}px)`}}class g{constructor(t,e){this.id=Date.now()+Math.random(),this.from=t,this.to=e,t.connections.push(this),e.connections.push(this)}serialize(){return{id:this.id,from:this.from.id,to:this.to.id}}}class p{constructor(t,e,n,i="",s=null){this.id=Date.now()+Math.random(),this.type=t,this.text=i||this.getDefaultText(),this.width=this.getDefaultWidth(),this.height=this.getDefaultHeight(),this._centerX=e,this._centerY=n,this.parent=s,this.children=[],this.connections=[],s&&s.children.push(this)}get centerX(){return this._centerX}get centerY(){return this._centerY}get cornerX(){return this._centerX-this.width/2}get cornerY(){return this._centerY-this.height/2}getCenter(){return{x:this._centerX,y:this._centerY}}updateCenter(t,e){this._centerX=t,this._centerY=e}updateCorner(t,e){this._centerX=t+this.width/2,this._centerY=e+this.height/2}setCenter(t,e){this._centerX=t,this._centerY=e}getDefaultText(){return{collection:"Collection",function:"Function",object:"Object",input:"Input",output:"Output"}[this.type]||"AppElement"}getDefaultWidth(){return{collection:120,function:100,object:100,input:80,output:80}[this.type]||100}getDefaultHeight(){return{collection:80,function:60,object:80,input:40,output:40}[this.type]||60}serialize(){return{id:this.id,type:this.type,x:this.centerX,y:this.centerY,text:this.text,width:this.width,height:this.height,parent:this.parent?this.parent.id:null,children:this.children.map(t=>t.id),connections:this.connections.map(t=>t.id)}}}class x{constructor(t,e,n){this.state=t,this.dom=e,this.panel=n}createElementAt(t,e,n=null){const i=new p(this.state.currentElementType,t,e,"",n);return this.state.addElement(i),this.dom.createElementDOM(i),this.state.selectElement(i),this.panel.updatePanel(i),this.render(),i}createChildElement(t){const e=t.centerX+t.width+30,n=t.centerY+t.children.length*55;return this.createElementAt(e,n,t)}deleteElementById(t){var n,i,s;const e=this.state.getElementById(t);e&&(e.parent&&(e.parent.children=e.parent.children.filter(o=>o.id!==t)),e.children.forEach(o=>this.deleteElementById(o.id)),this.state.connections=this.state.connections.filter(o=>o.from.id!==t&&o.to.id!==t),(n=e.domElement)==null||n.remove(),this.state.removeElement(t),((i=this.state.selectedElement)==null?void 0:i.id)===t&&(this.state.selectedElement=null,this.panel.updatePanel(null)),((s=this.state.connectionStart)==null?void 0:s.id)===t&&(this.state.connectionStart=null),this.render())}createConnection(t,e){if(this.state.connections.some(s=>s.from.id===t.id&&s.to.id===e.id||s.from.id===e.id&&s.to.id===t.id))return;const i=new g(t,e);this.state.addConnection(i),this.dom.updateConnections(this.state.connections)}resetConnectionState(){var t,e;(e=(t=this.state.connectionStart)==null?void 0:t.domElement)==null||e.classList.remove("connection-source"),this.state.connectionStart=null,this.updateStatus()}updateStatus(){const t={create:"Create/Child Mode",connection:"Connection Mode",move:"Movement Mode",edit:"Edit Mode"},e={collection:"Collections",function:"Functions",object:"Objects",input:"Inputs",output:"Outputs"};let n=`${t[this.state.currentMode]}`;this.state.currentMode==="create"&&(n+=` - ${e[this.state.currentElementType]}`),this.state.currentMode==="connect"&&this.state.connectionStart&&(n+=" - Select target element"),this.dom.updateStatus(n)}render(){this.dom.updateConnections(this.state.connections)}}function v(a,t,e){a.preventDefault();const n=e.getCanvasRect(),i=(a.clientX-n.left)/t.zoom-t.pan.x,s=(a.clientY-n.top)/t.zoom-t.pan.y,o=t.getElementAt(i,s);o&&(t.contextMenuTarget=o,e.showContextMenu(a.clientX,a.clientY))}function M(a,t,e,n){t.setMode(a),e.updateCanvasCursor(a),n.updateStatus(),a!=="connect"&&n.resetConnectionState(),a==="create"?e.showElementTypeSelection():e.hideElementTypeSelection()}function C(a,t,e){t.setElementType(a),e.updateStatus()}class S{constructor(t,e,n,i){this.dom=t,this.panel=e,this.state=n,this.utils=i,this.handleMouseDown=s=>{var d,h;const[o,c,l]=this.defineClicked(s);this.state.currentMode==="connect"&&!this.state.connectionStart&&o&&(this.state.connectionStart=o,this.state.selectElement(o),this.panel.updatePanel(o),(d=o.domElement)==null||d.classList.add("connection-source"),this.utils.updateStatus()),this.state.currentMode==="move"&&o&&(this.state.dragging=!0,this.state.selectElement(o),this.panel.updatePanel(o),this.state.dragOffset.x=c-o.cornerX,this.state.dragOffset.y=l-o.cornerY,(h=o.domElement)==null||h.classList.add("dragging"),s.preventDefault())},this.handleMouseMove=s=>{if(!this.state.dragging||!this.state.selectedElement||this.state.currentMode!=="move")return;const o=this.dom.getCanvasRect(),c=(s.clientX-o.left)/this.state.zoom-this.state.pan.x,l=(s.clientY-o.top)/this.state.zoom-this.state.pan.y,d=c-this.state.dragOffset.x,h=l-this.state.dragOffset.y;this.state.selectedElement.updateCorner(d,h),this.dom.updateElementPosition(this.state.selectedElement),this.panel.updatePosition(this.state.selectedElement),this.dom.updateConnections(this.state.connections),s.preventDefault()},this.handleMouseUp=()=>{var s;this.state.dragging&&this.state.selectedElement&&(this.state.dragging=!1,(s=this.state.selectedElement.domElement)==null||s.classList.remove("dragging"))}}defineClicked(t){const e=this.dom.getCanvasRect(),n=(t.clientX-e.left)/this.state.zoom-this.state.pan.x,i=(t.clientY-e.top)/this.state.zoom-this.state.pan.y;return[this.state.getElementAt(n,i),n,i]}handleCanvasClick(t){var s;const[e,n,i]=this.defineClicked(t);switch(!e&&this.state.currentMode!=="connect"&&(this.state.selectElement(null),this.panel.updatePanel(null)),this.state.currentMode){case"create":e?t.shiftKey?this.utils.deleteElementById(e.id):this.utils.createChildElement(e):this.utils.createElementAt(n,i);break;case"connect":e?this.state.connectionStart?e!==this.state.connectionStart&&(this.utils.createConnection(this.state.connectionStart,e),this.utils.resetConnectionState()):(this.state.connectionStart=e,this.state.selectElement(e),this.panel.updatePanel(e),(s=e.domElement)==null||s.classList.add("connection-source"),this.utils.updateStatus()):this.utils.resetConnectionState();break;case"edit":e&&(this.state.selectElement(e),this.panel.updatePanel(e),this.dom.editElementText(e));break}}}class L{constructor(t,e,n){this.state=t,this.dom=e,this.panel=n,this.handleCanvasClick=i=>this.clickHandler.handleCanvasClick(i),this.handleMouseDown=i=>this.clickHandler.handleMouseDown(i),this.handleMouseMove=i=>this.clickHandler.handleMouseMove(i),this.handleMouseUp=()=>this.clickHandler.handleMouseUp(),this.handleContextMenu=i=>v(i,this.state,this.dom),this.handleModeChange=i=>M(i,this.state,this.dom,this.utils),this.handleElementTypeChange=i=>C(i,this.state,this.utils),this.utils=new x(t,e,n),this.clickHandler=new S(this.dom,this.panel,this.state,this.utils)}}class w{constructor(t,e){this.editElement=()=>{this.appState.contextMenuTarget&&this.domManager.editElementText(this.appState.contextMenuTarget),this.hideContextMenu()},this.duplicateElement=()=>{if(this.appState.contextMenuTarget){const n=new p(this.appState.contextMenuTarget.type,this.appState.contextMenuTarget.centerX+20,this.appState.contextMenuTarget.centerY+20,this.appState.contextMenuTarget.text);this.appState.addElement(n),this.domManager.createElementDOM(n),this.appState.selectElement(n),this.render()}this.hideContextMenu()},this.deleteElement=()=>{this.appState.contextMenuTarget&&this.deleteElementById(this.appState.contextMenuTarget.id),this.hideContextMenu()},this.appState=t,this.domManager=e}hideContextMenu(){this.domManager.hideContextMenu(),this.appState.contextMenuTarget=null}deleteElementById(t){var n,i;const e=this.appState.getElementById(t);e&&(e.parent&&(e.parent.children=e.parent.children.filter(s=>s.id!==t)),e.children.forEach(s=>{this.deleteElementById(s.id)}),this.appState.connections=this.appState.connections.filter(s=>s.from.id!==t&&s.to.id!==t),e.domElement&&e.domElement.remove(),this.appState.removeElement(t),((n=this.appState.selectedElement)==null?void 0:n.id)===t&&(this.appState.selectedElement=null),((i=this.appState.connectionStart)==null?void 0:i.id)===t&&(this.appState.connectionStart=null),this.render())}render(){this.domManager.updateConnections(this.appState.connections)}}class B{constructor(t,e){this.appState=t,this.domManager=e}saveProject(){const t={elements:this.appState.elements.map(o=>o.serialize()),connections:this.appState.connections.map(o=>o.serialize())},e=JSON.stringify(t,null,2),n=new Blob([e],{type:"application/json"}),i=URL.createObjectURL(n),s=document.createElement("a");s.href=i,s.download="application_design.json",s.click(),URL.revokeObjectURL(i)}loadProject(){const t=document.createElement("input");t.type="file",t.accept=".json",t.onchange=e=>{var s;const i=(s=e.target.files)==null?void 0:s[0];if(i){const o=new FileReader;o.onload=c=>{var l;try{const d=(l=c.target)==null?void 0:l.result;if(typeof d=="string"){const h=JSON.parse(d);this.clearCanvas(),h.elements.forEach(r=>{const u=new p(r.type,r.x,r.y,r.text);u.id=r.id,u.width=r.width,u.height=r.height,this.appState.addElement(u),this.domManager.createElementDOM(u)}),h.connections.forEach(r=>{const u=this.appState.getElementById(r.from),m=this.appState.getElementById(r.to);if(u&&m){const f=new g(u,m);f.id=r.id,this.appState.addConnection(f)}}),this.render()}}catch(d){alert("Error loading project: "+d.message)}},o.readAsText(i)}},t.click()}clearCanvas(){this.appState.clear(),document.querySelectorAll(".connection-svg").forEach(t=>t.remove())}render(){this.domManager.updateConnections(this.appState.connections)}}class I{constructor(t,e){this.zoomIn=()=>{this.appState.zoom*=1.2,this.domManager.setCanvasTransform(this.appState.zoom,this.appState.pan.x,this.appState.pan.y)},this.zoomOut=()=>{this.appState.zoom/=1.2,this.domManager.setCanvasTransform(this.appState.zoom,this.appState.pan.x,this.appState.pan.y)},this.resetView=()=>{this.appState.zoom=1,this.appState.pan={x:0,y:0},this.domManager.setCanvasTransform(1,0,0)},this.appState=t,this.domManager=e}}class T{constructor(t,e){this.panelContainer=document.getElementById("editbar"),this.textInput=this._createInputField("Name"),this.idField=this._createReadOnlyProperty("ID"),this.typeField=this._createReadOnlyProperty("Type"),this.xField=this._createReadOnlyProperty("Pos X"),this.yField=this._createReadOnlyProperty("Pos Y"),this.updatePanel=n=>{if(!n){this.panelContainer.classList.add("hidden");return}this.panelContainer.classList.remove("hidden"),this.idField.textContent=n.id.toString(),this.typeField.textContent=n.type,this.textInput.value=n.text,this.xField.textContent=Math.round(n.centerX).toString(),this.yField.textContent=Math.round(n.centerY).toString()},this._handleTextChange=()=>{const n=this.appState.selectedElement;n&&(n.text=this.textInput.value,this.domManager.updateElementTextContent(n))},this.appState=t,this.domManager=e,this.textInput.addEventListener("input",this._handleTextChange)}_createReadOnlyProperty(t){return this._createElement("readonlyPropTemplate","readonlyProps",".propValue",t)}_createInputField(t){const e=this._createElement("inputFieldTemplate","inputFields",".propInput",t);return e.name=t,e.autocomplete="off",e}_createElement(t,e,n,i){const s=document.getElementById(t).cloneNode(!0);return s.id="",s.querySelector(".propLabel").textContent=i,document.getElementById(e).appendChild(s),s.querySelector(n)}updatePosition(t){if(this.appState.selectedElement===t){const e=t.getCenter();this.xField.textContent=Math.round(e.x).toString(),this.yField.textContent=Math.round(e.y).toString()}}}class P{constructor(t={}){this.velocities=new Map,this.isRunning=!1,this.animationId=null,this.animate=(e,n)=>{this.isRunning&&(this.step(e,n),this.animationId=requestAnimationFrame(()=>{this.animate(e,n)}))},this.config={repulsionForce:1e3,attractionForce:.1,damping:.9,minDistance:50,maxForce:10,iterations:1,springLength:100,...t}}start(t,e){this.isRunning||(this.isRunning=!0,this.initializeVelocities(t),this.animate(t,e))}stop(){this.isRunning=!1,this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null)}step(t,e){if(t.length===0)return;const n=e.filter(i=>t.some(s=>s.id===i.from.id)&&t.some(s=>s.id===i.to.id));for(let i=0;i<this.config.iterations;i++)this.calculateForces(t,n),this.updatePositions(t)}initializeVelocities(t){this.velocities.clear(),t.forEach(e=>{this.velocities.set(e.id,{x:0,y:0})})}calculateForces(t,e){const n=new Map;t.forEach(i=>{n.set(i.id,{x:0,y:0})});for(let i=0;i<t.length;i++)for(let s=i+1;s<t.length;s++){const o=this.calculateRepulsionForce(t[i],t[s]),c=n.get(t[i].id),l=n.get(t[s].id);c.x+=o.x,c.y+=o.y,l.x-=o.x,l.y-=o.y}e.forEach(i=>{const s=n.get(i.from.id),o=n.get(i.to.id);if(s&&o){const c=this.calculateAttractionForce(i.from,i.to);s.x+=c.x,s.y+=c.y,o.x-=c.x,o.y-=c.y}}),t.forEach(i=>{const s=n.get(i.id),o=this.velocities.get(i.id),c=Math.sqrt(s.x*s.x+s.y*s.y);c>this.config.maxForce&&(s.x=s.x/c*this.config.maxForce,s.y=s.y/c*this.config.maxForce),o.x=(o.x+s.x)*this.config.damping,o.y=(o.y+s.y)*this.config.damping})}calculateRepulsionForce(t,e){const n=t.centerX-e.centerX,i=t.centerY-e.centerY,s=Math.sqrt(n*n+i*i);if(s<this.config.minDistance){const c=Math.atan2(i,n);return{x:Math.cos(c)*this.config.repulsionForce/this.config.minDistance,y:Math.sin(c)*this.config.repulsionForce/this.config.minDistance}}if(s===0)return{x:Math.random()*2-1,y:Math.random()*2-1};const o=this.config.repulsionForce/(s*s);return{x:n/s*o,y:i/s*o}}calculateAttractionForce(t,e){const n=e.centerX-t.centerX,i=e.centerY-t.centerY,s=Math.sqrt(n*n+i*i);if(s===0)return{x:0,y:0};const c=(s-this.config.springLength)*this.config.attractionForce;return{x:n/s*c,y:i/s*c}}updatePositions(t){t.forEach(e=>{const n=this.velocities.get(e.id),i=e.centerX+n.x,s=e.centerY+n.y;e.setCenter(i,s),e.domElement&&(e.domElement.style.left=`${e.cornerX}px`,e.domElement.style.top=`${e.cornerY}px`)})}updateConfig(t){this.config={...this.config,...t}}getConfig(){return{...this.config}}isLayoutRunning(){return this.isRunning}}class F{constructor(){this.hideContextMenu=()=>{this.domManager.hideContextMenu(),this.appState.contextMenuTarget=null},this.handleSaveProject=()=>{this.projectManager.saveProject()},this.handleLoadProject=()=>{this.projectManager.loadProject()},this.handleClearCanvas=()=>{confirm("Are you sure you want to clear the canvas? This action cannot be undone.")&&(this.forceDirectedLayout.stop(),this.appState.clear(),this.propertiesPanel.updatePanel(null),document.querySelectorAll(".connection-svg").forEach(e=>e.remove()),this.render())},this.handleStartLayout=()=>{this.forceDirectedLayout.start(this.appState.elements,this.appState.connections)},this.handleStopLayout=()=>{this.forceDirectedLayout.stop()};const t=document.getElementById("canvas");if(!t)throw new Error("Canvas element not found");this.appState=new E,this.domManager=new y(t),this.propertiesPanel=new T(this.appState,this.domManager),this.eventHandlers=new L(this.appState,this.domManager,this.propertiesPanel),this.contextMenu=new w(this.appState,this.domManager),this.projectManager=new B(this.appState,this.domManager),this.viewControls=new I(this.appState,this.domManager),this.forceDirectedLayout=new P,this.initializeApp()}initializeApp(){this.setupEventListeners(),this.domManager.updateCanvasCursor(this.appState.currentMode),this.domManager.updateStatus("Ready"),this.render()}setupEventListeners(){this.setupCanvasEvents(),this.setupUIEvents(),this.setupContextMenuEvents(),this.setupProjectEvents(),this.setupViewControlEvents(),this.setupLayoutEvents()}setupCanvasEvents(){const t=document.getElementById("canvas");t.addEventListener("click",this.eventHandlers.handleCanvasClick),t.addEventListener("mousedown",this.eventHandlers.handleMouseDown),t.addEventListener("mousemove",this.eventHandlers.handleMouseMove),t.addEventListener("mouseup",this.eventHandlers.handleMouseUp),t.addEventListener("contextmenu",this.eventHandlers.handleContextMenu),t.addEventListener("dragstart",e=>e.preventDefault()),document.addEventListener("click",this.hideContextMenu)}setupUIEvents(){this.setupModeButtons(),this.setupElementTypeButtons()}setupModeButtons(){document.querySelectorAll(".mode-btn").forEach(t=>{t.addEventListener("click",()=>{document.querySelectorAll(".mode-btn").forEach(n=>n.classList.remove("active")),t.classList.add("active");const e=t.dataset.mode;this.eventHandlers.handleModeChange(e)})})}setupElementTypeButtons(){document.querySelectorAll(".element-btn").forEach(t=>{t.addEventListener("click",()=>{document.querySelectorAll(".element-btn").forEach(n=>n.classList.remove("active")),t.classList.add("active");const e=t.dataset.type;this.eventHandlers.handleElementTypeChange(e)})})}setupContextMenuEvents(){const t=document.getElementById("editBtn"),e=document.getElementById("duplicateBtn"),n=document.getElementById("deleteBtn");t&&t.addEventListener("click",this.contextMenu.editElement),e&&e.addEventListener("click",this.contextMenu.duplicateElement),n&&n.addEventListener("click",this.contextMenu.deleteElement)}setupProjectEvents(){const t=document.getElementById("saveBtn"),e=document.getElementById("loadBtn"),n=document.getElementById("clearBtn");t&&t.addEventListener("click",this.handleSaveProject),e&&e.addEventListener("click",this.handleLoadProject),n&&n.addEventListener("click",this.handleClearCanvas)}setupViewControlEvents(){const t=document.getElementById("zoomInBtn"),e=document.getElementById("zoomOutBtn"),n=document.getElementById("resetViewBtn");t&&t.addEventListener("click",this.viewControls.zoomIn),e&&e.addEventListener("click",this.viewControls.zoomOut),n&&n.addEventListener("click",this.viewControls.resetView)}setupLayoutEvents(){const t=document.getElementById("layoutBtn"),e=document.getElementById("stopLayoutBtn");t&&t.addEventListener("click",this.handleStartLayout),e&&e.addEventListener("click",this.handleStopLayout)}render(){this.domManager.updateConnections(this.appState.connections)}getAppState(){return this.appState}getDOMManager(){return this.domManager}getForceDirectedLayout(){return this.forceDirectedLayout}saveProject(){this.handleSaveProject()}loadProject(){this.handleLoadProject()}clearCanvas(){this.handleClearCanvas()}startLayout(){this.handleStartLayout()}stopLayout(){this.handleStopLayout()}}document.addEventListener("DOMContentLoaded",()=>{try{const a=new F;window.app=a,console.log("Application initialized successfully")}catch(a){console.error("Failed to initialize application:",a),alert("Failed to initialize application. Please check the console for more details.")}});
