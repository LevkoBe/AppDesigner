<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Application Designer</title>
    <link rel="stylesheet" href="./styles/index.css" />
    <link rel="stylesheet" href="./styles/bars.css" />
    <link rel="stylesheet" href="./styles/connections.css" />
    <script type="module" crossorigin src="/AppDesigner/assets/index-DKkBf_2l.js"></script>
  </head>
  <body>
    <div class="container">
      <div class="bar" id="toolbar">
        <h2>Application Designer</h2>

        <div id="modeSelection" class="section">
          <h3>Interaction Mode</h3>
          <div class="mode-buttons">
            <div class="mode-btn active" data-mode="create">Create / Child</div>
            <div class="mode-btn" data-mode="connect">Connection</div>
            <div class="mode-btn" data-mode="move">Movement</div>
            <div class="mode-btn" data-mode="edit">Edit</div>
          </div>
        </div>

        <div id="elementTypeSelection" class="section">
          <h3>Element Types</h3>
          <div class="element-buttons">
            <div class="element-btn" data-type="collection">
              [Collections] - Rectangles
            </div>
            <div class="element-btn" data-type="function">
              (Functions) - Ovals
            </div>
            <div class="element-btn active" data-type="object">
              {Objects} - Polygons
            </div>
            <div class="element-btn" data-type="input">&gt;Inputs&lt;</div>
            <div class="element-btn" data-type="output">&gt;Outputs&lt;</div>
          </div>
        </div>

        <div class="section">
          <h3>Actions</h3>
          <div class="mode-buttons">
            <div class="mode-btn" id="saveBtn">Save Project</div>
            <div class="mode-btn" id="loadBtn">Load Project</div>
            <div class="mode-btn" id="clearBtn">Clear Canvas</div>
          </div>
        </div>
      </div>

      <div class="canvas-container">
        <div class="controls">
          <div class="control-btn active" id="layoutBtn">Auto Layout</div>
          <div class="control-btn" id="zoomInBtn">Zoom In</div>
          <div class="control-btn" id="zoomOutBtn">Zoom Out</div>
          <div class="control-btn" id="resetViewBtn">Reset View</div>
        </div>

        <div class="canvas" id="canvas"></div>
        <div class="status" id="status">Ready - Create/Child Mode</div>
      </div>

      <div class="hidden bar" id="editbar">
        <h2>Element Properties</h2>
        <div id="readonlyProps">
          <div id="readonlyPropTemplate" class="readonlyProp">
            <strong class="propLabel">Readonly property</strong>:
            <span class="propValue">[no element selected]</span>
          </div>
        </div>

        <div id="inputFields">
          <div id="inputFieldTemplate" class="inputField">
            <label
              ><span class="propLabel">Input</span>:
              <input
                type="text"
                name="template"
                class="propInput"
                placeholder="[enter value here]"
              />
            </label>
          </div>
        </div>

        <div id="dropdowns">
          <div id="dropdownTemplate" class="dropdown">
            <div class="customDropdown" data-selected="Option #1">
              <span class="propLabel">Dropdown</span>
              <div class="propDrop" name="template">
                <div class="propOpt">Option #1</div>
                <div class="propOpt">Option #2</div>
                <div class="propOpt">Option #3</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="context-menu" id="contextMenu">
      <div class="context-menu-item" id="editBtn">Edit</div>
      <div class="context-menu-item" id="duplicateBtn">Duplicate</div>
      <div class="context-menu-separator"></div>
      <div class="context-menu-item" id="deleteBtn">Delete</div>
    </div>

    <div id="elementTemplates" style="display: none">
      <div class="element template collection">
        <svg
          width="173"
          height="165"
          viewBox="0 0 173 165"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          class="element-svg"
        >
          <path
            d="M128.25 8H165.5V157H128.25M45.25 157H8V8H45.25"
            class="element-svg"
          />
        </svg>

        <span class="element-text"></span>
        <input type="text" class="element-input" />
      </div>
      <div class="element template function">
        <svg
          width="441"
          height="159"
          viewBox="0 0 441 159"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          class="element-svg"
        >
          <path
            d="M408.319 5C442.077 48.9303 442.077 110.07 408.319 154M33.3189 154C-0.439621 110.07 -0.439621 48.9303 33.3189 5"
          />
        </svg>

        <span class="element-text"></span>
        <input type="text" class="element-input" />
      </div>
      <div class="element template object">
        <svg
          width="197"
          height="165"
          viewBox="0 0 197 165"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          class="element-svg"
        >
          <path
            d="M126 8H142.25C153.848 8 163.25 17.402 163.25 29V45.25C163.25 45.25 163.25 82.5 197 82.5C163.25 82.5 163.25 119.75 163.25 119.75V136C163.25 147.598 153.848 157 142.25 157H126M71 157H54.75C43.152 157 33.75 147.598 33.75 136V119.75C33.75 119.75 33.75 82.5 0 82.5C33.75 82.5 33.75 45.25 33.75 45.25V29C33.75 17.402 43.152 8 54.75 8H71"
          />
        </svg>
        <span class="element-text"></span>
        <input type="text" class="element-input" />
      </div>
      <div class="element template input">
        <svg
          width="214"
          height="161"
          viewBox="0 0 214 161"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          class="element-svg"
        >
          <path d="M5 6L80 80.5L5 155M128 6L203 80.5L128 155" />
        </svg>

        <span class="element-text"></span>
        <input type="text" class="element-input" />
      </div>
      <div class="element template output">
        <svg
          width="214"
          height="161"
          viewBox="0 0 214 161"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          class="element-svg"
        >
          <path d="M209 155L134 80.5L209 6M86 155L11 80.5L86 6" />
        </svg>

        <span class="element-text"></span>
        <input type="text" class="element-input" />
      </div>
    </div>

    <script src="/src/_customHTML/dropdown.ts"></script>
  </body>
</html>
